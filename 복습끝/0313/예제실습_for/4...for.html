<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ko" xml:lang="ko">

<head>
    <title> new document </title>
    <meta name="keywords" content="" />
    <meta name="description" content="" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style type="text/css">
        html,
        body {
            font: 12px/15px "돋움", Dotum, Tahoma, Arial;
        }

        div,
        dl,
        dt,
        dd,
        ul,
        ol,
        li,
        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        pre,
        form,
        fieldset,
        input,
        textarea,
        p,
        blockquote,
        th,
        td {
            margin: 0;
            padding: 0;
        }

        img {
            border: none;
        }

        ol,
        ul,
        li {
            list-style: none;
        }

        .module {
            position: relative;
            border: 1px solid #ccc;
            background: #fff;
            width: 233px;
            height: 171px;
            margin-right: 0;
        }

        .module .mod-title,
        .module .tabpanel h3 {
            position: absolute;
            width: 1px;
            height: 1px;
            margin: -1px;
            padding: 0;
            border: 0;
            overflow: hidden;
            clip: rect(0 0 0 0);
        }

        .module .tablist-bar {
            position: absolute;
            bottom: 3px;
            left: 9px;
        }

        .tablist-bar li {
            position: relative;
            float: left;
        }

        .tablist-bar li a {
            float: left;
            height: 28px;
            overflow: hidden;
            text-indent: -10000px;
        }

        .module .tablist-bar a {
            position: relative;
            width: 58px;
            margin-left: -3px;
            background-repeat: no-repeat;
            background-position: 0 0;
            background-image: url('images/hp_coupon_point.png');
        }

        .module .tablist-bar .selected {
            position: relative;
        }

        .module .tablist-bar .selected .tab-1 {
            background-position: 0 -38px;
        }

        .module .tablist-bar .tab-2 {
            background-position: -58px 0;
        }

        .module .tablist-bar .selected .tab-2 {
            background-position: -58px -38px;
        }

        .module .tablist-bar .tab-3 {
            background-position: -116px 0;
        }

        .module .tablist-bar .selected .tab-3 {
            background-position: -116px -38px;
        }

        .module .tablist-bar .tab-4 {
            background-position: -174px 0;
        }

        .module .tablist-bar .selected .tab-4 {
            background-position: -174px -38px;
        }

        /* .tabpanel {
            display: none;
        } */

        .tabpanel-active {
            display: block;
        }

       
    </style>
    <script type="text/javascript">
        // querySelectorAll-->NodeList, getElementsTagName -->배열변환해서 작업할수 없음
        /*
          Array.from() 배열객체나 반복가능한 객체를 일반 배열로 변환, 
          NodeList -> 배열처럼 보이지만 실제 배열은 아-->배열로 변환해서 forEach(), filter() map()....사용할수 있도록
        */
        document.addEventListener("DOMContentLoaded",()=>{
            let currentNum = 0; //현재보고있는 번호 저장
           // const tabList = document.querySelectorAll('#tabList li');
            const tabList =Array.from(document.querySelectorAll('#tabList li'));
            const tabpanelList =Array.from(document.querySelectorAll('#tab div'));
            const  bgImage = document.querySelector('#tab div.tabpanel a img')
            //console.log(bgImage) ,console.log(tabList) ,console.log(tabpanelList)
           
            tabList.forEach((li,index)=>{
             //배열명. forEach((요소,index))
                //console.log(li) ,console.log(index) 
                li.addEventListener('mouseover',()=>{
                    //console.log(index)
                    selectMenu(index)
                })

            })

//selected 삭제 추가 , remove, add
              const selectMenu=(num)=>{
                 //console.log(num)
                 /*if(현재보고있는 번호 !==선택한번호 ){
                    현재보고있는 번호에 클래스를 삭제
                    선택한 번호의 클래스를 추가
                    이지미는 images/item1.jpg 숫자만 변경 

                    현재 보고있는 번호는 0번이므로 ..
                    선택한 번호를 현재 보고있는 번호에 저장해서 현재 보고있는 번호를 수정
                 }*/

                 if(currentNum !==num){
                    //console.log(num) 0123
                    tabList[currentNum].classList.remove('selected');
                    tabList[num].classList.add('selected');
                    bgImage.src=`images/item${num + 1}.jpg`; //1234
                    currentNum = num;
                 }
              }
        })

    </script>
</head>

<body style="padding:100px;">
    <div id="tab" class="module mod-benefits">
        <!--<h2 class="mod-title">쿠폰포인트</h2>-->
        <ul id="tabList" class="tablist-bar">
            <li  class="selected"><a href="#" class="tab-1">할인혜택</a></li>
            <li ><a href="#" class='tab-2'>구매혜택</a></li>
            <li><a href="#" class='tab-3'>클럽혜택</a></li>
            <li><a href="#" class='tab-4'>제휴혜택</a></li>
        </ul>
        <div class="tabpanel tabpanel-active">
            <!--<h3>할인혜택</h3>-->
            <a href="#"><img src="images/item1.jpg" alt=''></a>
        </div>
    </div>
</body>

</html>
