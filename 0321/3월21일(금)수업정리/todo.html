<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="css/todo.css">
</head>
<body>
    <div class="container">
        <h1>ì˜¤ëŠ˜ì˜ í• ì¼</h1>
        <div class="input-section">
            <input type="text"  id="taskInput" placeholder="ì˜¤ëŠ˜ì˜ í•  ì¼ì„ ì…ë ¥í•˜ì„¸ìš”">
            <button id="addTaskBtn">ë“±ë¡</button>
        </div>
        <ul id="taskList">
         
        </ul>
    </div>
    <script>
            document.addEventListener("DOMContentLoaded",()=>{
                const taskInput = document.getElementById('taskInput');
                const addTaskBtn = document.getElementById('addTaskBtn');
                const taskList = document.getElementById('taskList')
                let tasks =[];
                
                function addTask(){
                    const taskText =  taskInput.value.trim();
                    if(taskText === ""){
                        alert("í•  ì¼ì„ ì…ë ¥í•˜ì„¸ìš”");
                        return;
                    }
                    //ìƒˆë¡œìš´ í• ì¼ê°ì²´ ìƒì„±
                    const newTask ={
                        id:Date.now(),//ê³ ìœ í•œ ì•„ì´ë”” ìƒì„±
                        text:taskText,//í• ì¼ì…ë ¥ í…ìŠ¤íŠ¸
                        completed:false//ì™„ë£Œ ì—¬ë¶€ false ê¸°ë³¸
                    }
                    //í• ì¼ì„ ë°°ì—´ì— ì¶”ê°€
                    tasks.push(newTask);
                    renderTasks();// í• ì¼ëª©ë¡ì„ í™”ë©´ì— ë Œë”ë§
                    taskInput.value="";// ì…ë ¥ í•„ë“œ ì´ˆê¸°í™”
                }

                function renderTasks(){
                      taskList.innerHTML=""//ê¸°ì¡´ëª©ë¡ ì´ˆê¸°í™”
                    tasks.forEach(task=>{
                        const li = document.createElement('li');
                        const emoji ="ğŸ˜„";
                        li.textContent=`${emoji} ${task.text}`;
                        li.dataset.id = task.id;

                        taskList.appendChild(li)

                        if(task.completed){
                            li.classList.add('completed')
                        }

                        const toggleBtn = document.createElement('button')
                        toggleBtn.textContent = task.completed ? "ì·¨ì†Œ": "ì™„ë£Œ"
                        toggleBtn.classList.add('fihishBtn')
                        toggleBtn.addEventListener('click',() =>toggleTask(task.id))
                        //ë²„íŠ¼ì„ í´ë¦­ì‹œ ì™„ë£Œ ìƒíƒœ í† ê¸€  ->ì™„ë£Œë©´ ì·¨ì†Œ, ì·¨ì†Œë©´ ì™„ë£Œ

                        const deleteBtn= document.createElement('button');
                        deleteBtn.textContent="ì‚­ì œ";
                        deleteBtn.classList.add('deleteBtn')
                        deleteBtn.addEventListener('click',() =>deleteTask(task.id))

                        li.appendChild(toggleBtn)
                        li.appendChild(deleteBtn)
                    })    
                }

                    //í• ì¼ì˜ ì™„ë£Œ/ì·¨ì†Œ ìƒíƒœ
                function toggleTask(id){
                    const task = tasks.find(task =>task.id === id ); //idë¡œ í•´ë‹¹ í• ì¼ì„ ì°¾ê¸°
                    if(task) {
                        task.completed =!task.completed//ì™„ë£Œ ìƒíƒœë¥¼ë°˜ì „
                        renderTasks()//ì—…ë°ì´íŠ¸ëœ ëª©ë¡œ ë‹¤ì‹œ ë Œë”ë§
                    }
                }
                //ì‚­ì œ
                function deleteTask(id){
                     tasks = tasks.filter(task => task.id !== id);
                     renderTasks()
                }

                



                addTaskBtn.addEventListener('click',addTask)
                renderTasks()
            })
    </script>
</body>
</html>


<!--
1)ì…ë ¥ì°½ì´ ë¹„ì–´ìˆëŠ” ìƒíƒœë¡œ ë“±ë¡ ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ alert ì°½ì´ ë…¸ì¶œ
"í• ì¼ì„ ì…ë ¥í•˜ì„¸ìš”"
1-1)ì…ë ¥ì°½ì— ì…ë ¥í›„ ë“±ë¡ ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ ì…ë ¥ì°½ ì´ˆê¸°í™” 
2)li íƒœê·¸ ìƒì„± , ì™„ë£Œ ë²„íŠ¼ê³¼ ì‚­ì œ ë²„íŠ¼ë„ ìƒì„±  createElement, appentchild
3)ì™„ë£Œ ë²„íŠ¼ ì„ íƒì‹œ ë¼ì¸ìœ¼ë¡œ ì™„ë£Œ ìƒíƒœ í™•ì¸ classList.add
4)ì™„ë£Œ ë²„íŠ¼ì„ ì„ íƒì‹œ ì™„ë£Œ ë²„íŠ¼ì´ ì‚­ì œë˜ê³  ì·¨ì†Œ ë²„íŠ¼ìœ¼ë¡œ ë…¸ì¶œ
5)ì·¨ì†Œ ë²„íŠ¼ì„ ì„ íƒì‹œ ì·¨ì†Œ ë²„íŠ¼ì´ ì‚­ì œë˜ê³  ì™„ë£Œ ë²„íŠ¼ìœ¼ë¡œ ë…¸ì¶œ
6)id:í˜„ì¬ì‹œê°„ ìƒì„± Date.now()

 ê°ì²´ë¡œ ì €ì¥{id, í• ì¼, ì™„ë£Œì—¬ë¶€}
 ì¶”ê°€: push, ì‚­ì œ :filter(id)


1 id=1 ìˆ™ì œí•˜ê¸°   2 id=2ì‚°ì±…í•˜ê¸°   3 id =3 ìš´ë™í•˜ê¸°
-->
